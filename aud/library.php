<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Frameset//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-frameset.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><?phprequire '../includes/mySQL_Sessions.inc';require '../includes/TableRelated.inc';require '../includes/ThemeGen.inc';require '../aud/aud_page_dim.inc';session_start();	if (empty($_SESSION['idnum']))	{ die("No User Specified"); }$idnum[0] = $_SESSION['idnum'];$sess_id = session_id();$key = dechex(mktime());$SendString = "?sess={$sess_id}&key={$key}";$TbleGrp = GenerateTableGroup($idnum[0]);$theme['r'] = $_SESSION['r'];$theme['g'] = $_SESSION['g'];$theme['b'] = $_SESSION['b'];$bg_color = $_SESSION['bg'];$ThemeColor = dechex($theme['r']) . dechex($theme['g']) . dechex($theme['b']);$UserName = $_SESSION['name'];$width = $Frame["library_w"] - 4;$height = $Frame["library_h"] - 4;$bgcolor = $Frame['bg'];$grp['size'] = 10;if	(!(empty($_GET['nxtaud'])))	$MainAudio = intval($_GET['nxtaud']);else							$MainAudio = 1;$grp['curr'] = ceil($MainAudio/$grp['size']);$query['count'] = "SELECT numaudio FROM filecount WHERE idnum = '{$idnum[0]}'";$query['GetFiles'] = "SELECT rank, file, title, artist FROM {$TbleGrp['uploads']} WHERE type='aud'"				.	" AND idnum = {$idnum[0]} ORDER BY rank LIMIT " . ($grp['size']*$grp['curr']);					if (($count = @mysql_fetch_array(@mysql_query($query['count'], $connection))) && ($count['numaudio'] != 0)){	if ($GetAudio = @mysql_query($query['GetFiles'], $connection))	{	for ($rep = 1; $rep <= $count['numaudio']; $rep++)					$Lib[$rep] = @mysql_fetch_array($GetAudio);			$LastAudio = $rep - 1;}	}$grp['prev'] = $grp['curr'] - 1;$grp['next'] = $grp['curr'] + 1;$grp['strt'] = (($grp['size'] * ($grp['curr'] - 1)) + 1);if (($grp['curr']*$grp['size']) <= $LastAudio)	$grp['end'] = ($grp['curr'] * $grp['size']);else											$grp['end'] = $LastAudio;$MessageColor = ColorOffset($ThemeColor,(-92));$BorderColor = ColorOffset($ThemeColor,(-92));$HiLiteColor = ColorOffset($ThemeColor,18);$ListHeadColor = ColorOffset($ThemeColor,18);$DarkBG = ColorOffset($ThemeColor,(-24));?><head><?php$ListOffset['vert'] = 30;$ListItmHeight = 40;echo	'<style>'	.	'div.library {'		.	'position:absolute;'	.	'top:' . ($ListOffset['vert'] + 2) . 'px;'	.	'left:2px;'	.	'width:' . $width . 'px;'	.	'height:' . ($height - $ListOffset['vert']) . 'px;'	.	'background-color:#' . $bgcolor . ';'		.	'}'		.	'div.libTitle {'	.	'float:left;'	.	'padding:5px 0px 0px 5px;'	.	'color:#444444;'	.	'font:' . '100% arial' . ';'	.	'font-weight:bold;'	.	'}'		.	'div.groupCtrl {'	.	'float:right;'	.	'padding:5px 5px 0px 0px;'	.	'color:#' . $MessageColor . ';'	.	'font:' . '90% arial' . ';'	.	'}'		.	'a.prevgroup, a.nextgroup {'	.	'text-decoration:' . 'none' . ';'	.	'color:#' . $MessageColor . ';'	.	'}'		.	'a.prevgroup:hover, a.nextgroup:hover {'	.	'background-color:#444444;'	.	'color:#' . $HiLiteColor . ';'	.	'}'		.	'li.list {'	.	'list-style:' . 'none' . ';'	.	'padding:' . '0px 0px 0px 0px' . ';'	.	'border:' . 'solid #'. $BorderColor . ';'	.	'border-width:' . '0px 0px 1px 0px' . ';'	.	'background-color:#' . $ThemeColor . ';'	.	'height:' . $ListItmHeight . 'px;'	.	'}'		.	'div.library li.list:hover{'	.	'background-color:#' . $HiLiteColor . ';'	.	'}'		.	'li.list a{'	.	'position:' . 'absolute' . ';'	.	'text-decoration:' . 'none' . ';'	.	'color:#' . $MessageColor . ';'	.	'}'	.	'a.title, a.artist {'	.	'margin-top:22px;'	.	'z-index:2;'	.	'font:' . '90% arial' . ';'	.	'left:' . 20 . 'px;'	.	'cursor:pointer;'	.	'}'			.	'a.title {'	.	'margin-top:2px;'	.	'left:' . 10 . 'px;'	.	'font-weight:bold;'	.	'}'			//	.	'a.auddate{'//	.	'padding-top:2px;'//	.	'z-index:2;'//	.	'font:' . '90% arial' . ';'//	.	'left:' . 210 . 'px;'//	.	'}'			.	"div.delbttn, div.addbttn{"	.	"position:absolute;"	.	"height:20px;"	.	"cursor:pointer;"	.	"}"			.	"div.delbttn{"	.	"width:56px;"	.	"left:".($width-56)."px;"	.	"background:url(../static/bttn/lib.del.png);"	.	"}"		.	"div.addbttn{"	.	"width:110px;"	.	"left:".($width-110)."px;"	.	"margin-top:20px;"	.	"background:url(../static/bttn/plst.add.png);"	.	"}"		.	"div.delbttn:hover{"."background:url(../static/bttn/lib.del.h.png);"."}"	.	"div.addbttn:hover{"."background:url(../static/bttn/plst.add.h.png);"."}"	.	'a.audtitle:hover, a.addtolist:hover, a.delete:hover {'	.	'color:#' . '555555' . ';'	.	'font-weight:bold;'	.	'}'	.	'</style>'	;echo "</head><body";if ($_GET['reload'] == "playlist")	echo " onLoad=\"top.playlist.location='playlist_curr.php?sess={$sess_id}&key={$key}';\">";else								echo ">";echo	'<div style="'	.	'position:absolute;'	.	'left:' . 2 . 'px;'	.	'top:' . 2 . 'px;'	.	'position:absolute;'	.	'width:' . $width . 'px;'	.	'height:' . ($ListOffset['vert']-1) . 'px;'	.	'background-color:#' . $ThemeColor . ';'	.	'">';echo	"<div class=\"libTitle\">Complete Audio Library</div>";	echo	'<div class="groupCtrl">';if ($grp['curr'] > 1)	 echo '<a class="prevgroup" href="'."library.php?sess={$sess_id}&key={$key}&nxtaud=". ($grp['strt']-$grp['size']) .'">'."Prev {$grp['size']}</a>";else echo '....';echo	" | <b>{$grp['strt']}-{$grp['end']}</b> | ";if ($grp['end'] != $LastAudio)	 echo '<a class="nextgroup" href="'."library.php?sess={$sess_id}&key={$key}&nxtaud=". ($grp['end']+1) .'">'."Next {$grp['size']}</a>";else echo '....';echo	'</div>';echo	'</div>';echo	'<div class="library">';//echo 	'<li class="list" style="padding-bottom:2px;height:18px;background-color:#' . $HiLiteColor . ';">'//	.	'<a class="audtitle" style="color:#' . $CategColor . ';">' . 'Song Title' .'</a>'//	.	'<a class="auddate" style="color:#' . $CategColor . ';padding-top:0px;">' . 'Upload Date' . '</a>'//	.	'</li>'//	;for ($rep = $grp['strt']; $rep <= $grp['end']; $rep++){$style['a'] = ''; $style['li'] = '';if ($rep == $MainAudio)	{	$style['li'] .= 'background-color:#' . $DarkBG . ';';	$style['a'] .= 'color:#444444;';	}if ($rep >= $count['numaudio'])	$nxtaud = $rep - 1;else								$nxtaud = $rep;$AudList .=	'<li class="list"'		.	' style="' . $style['li'] . '">'				.	"<div class=\"delbttn\" onClick=\""		.	"top.library.location='library_delete.php?sess={$sess_id}&key={$key}&refnum={$Lib[$rep]['rank']}&nxtaud={$nxtaud}';\""		.	" style=\"\"></div>"				.	"<div class=\"addbttn\" onClick=\""		.	"top.playlist.location='playlist_action.php?sess={$sess_id}&key={$key}&refnum={$Lib[$rep]['rank']}&do=add';\""		.	" style=\"\"></div>"				.	"<a class=\"title\" type=\"button\" onClick=\""		.	"top.songtitle.location='meta.php?type=title&sess={$sess_id}&key={$key}&refnum={$Lib[$rep]['rank']}&nxtaud={$rep}';"		.	"top.playsong.location='meta.php?type=plyr&sess={$sess_id}&key={$key}&refnum={$Lib[$rep]['rank']}';"		.	"top.songartist.location='meta.php?type=artist&sess={$sess_id}&key={$key}&refnum={$Lib[$rep]['rank']}&nxtaud={$rep}';"		.	"top.graphic.location='meta.php?type=grph&sess={$sess_id}&key={$key}&refnum={$Lib[$rep]['rank']}';"		.	"top.songcmnt.location='meta.php?type=cmnt&sess={$sess_id}&key={$key}&refnum={$Lib[$rep]['rank']}';\""		.	' style="' . $style['a'] . '"'		.	">{$rep}.  {$Lib[$rep]['title']}</a>"				.	"<a class=\"artist\" type=\"button\" onClick=\""		.	"top.songtitle.location='meta.php?type=title&sess={$sess_id}&key={$key}&refnum={$Lib[$rep]['rank']}&nxtaud={$rep}';"		.	"top.playsong.location='meta.php?type=plyr&sess={$sess_id}&key={$key}&refnum={$Lib[$rep]['rank']}';"		.	"top.songartist.location='meta.php?type=artist&sess={$sess_id}&key={$key}&refnum={$Lib[$rep]['rank']}&nxtaud={$rep}';"		.	"top.graphic.location='meta.php?type=grph&sess={$sess_id}&key={$key}&refnum={$Lib[$rep]['rank']}';"		.	"top.songcmnt.location='meta.php?type=cmnt&sess={$sess_id}&key={$key}&refnum={$Lib[$rep]['rank']}';\""		.	' style="' . $style['a'] . '"'		.	">({$Lib[$rep]['artist']})</a>"//		.	'<a class="auddate"'//		.	' style="' . $style['a'] . '"'//		.	">".date('M j, H:i',$Lib[$rep]['file'])."</a>"				.	'</li>'		;}echo	$AudList	;?></div></body></html>