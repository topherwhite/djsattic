<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Frameset//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-frameset.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><?phprequire '../includes/mySQL_Sessions.inc';require '../includes/TableRelated.inc';require '../includes/ThemeGen.inc';require '../includes/javascript/LoadFromDropDown.inc';require '../aud/aud_page_dim.inc';session_start();	if (empty($_SESSION['idnum']))	{ die("No User Specified"); }$idnum[0] = $_SESSION['idnum'];$sess_id = session_id();$key = dechex(mktime());$TbleGrp = GenerateTableGroup($idnum[0]);$theme['r'] = $_SESSION['r'];$theme['g'] = $_SESSION['g'];$theme['b'] = $_SESSION['b'];$bg_color = $_SESSION['bg'];$ThemeColor = dechex($theme['r']) . dechex($theme['g']) . dechex($theme['b']);$width = $Frame["playlist_w"] - 4;$height = $Frame["playlist_h"] - 4;$bgcolor = $Frame['bg'];$query['ListCount'] = "SELECT audlists FROM filecount WHERE idnum={$idnum[0]}";if (($count = @mysql_fetch_array(@mysql_query($query['ListCount'], $connection))) && ($count['audlists'] != 0)){	$query['GetLists'] = "SELECT rank, title, created FROM {$TbleGrp['lists']} WHERE idnum={$idnum[0]} AND type='aud' LIMIT {$count['audlists']}";	if ($GetLists = @mysql_query($query['GetLists'], $connection))	{	$ListSelect = "<select name=\"newPage\" onchange=\"LoadChngCurr();\" style=\"width:200px;\">"					.	'<option value="" selected=selected>Switch Current Playlist</option>';		for ($rep = 1; $rep <= $count['audlists']; $rep++)		{	$ListInfo[$rep] = @mysql_fetch_array($GetLists);			$ListSelect .= '<option value="' . "playlist_action.php?sess={$sess_id}&key={$key}&do=chng&refnum={$ListInfo[$rep]['rank']}" . '">';			if ($ListInfo[$rep]['rank'] == $_SESSION['curr_list'])	$ListSelect .= "- {$ListInfo[$rep]['title']} -";			else													$ListSelect .= $ListInfo[$rep]['title'];			$ListSelect .= "</option>";		}		$ListSelect .= '</select>';}	}	$query['GetList'] = "SELECT rank, title";for ($i = 1; $i <= 20; $i++)	$query['GetList'] .= ", itm{$i}";$query['GetList'] .= " FROM {$TbleGrp['lists']} WHERE rank = {$_SESSION['curr_list']}";if ($ListItms = @mysql_fetch_array(@mysql_query($query['GetList'], $connection))){	for ($cntr = 1; $cntr <= 20; $cntr++)	{	$name = "itm" . $cntr;		if ($ListItms[$name] != 0)		{	$query['GetInfo'] = "SELECT title FROM {$TbleGrp['uploads']} WHERE rank = {$ListItms[$name]}";			if ($SongInfo[$cntr] = @mysql_fetch_array(@mysql_query($query['GetInfo'], $connection)))			{	$ListItm[$cntr]['title'] = $SongInfo[$cntr]['title'];				$RefNum[$cntr] = $ListItms[$name];				$NumSongs = $cntr;}	}	}	}$MessageColor = ColorOffset($ThemeColor,(-92));$BorderColor = ColorOffset($ThemeColor,(-92));$HiLiteColor = ColorOffset($ThemeColor,18);$ListHeadColor = ColorOffset($ThemeColor,18);$DarkBG = ColorOffset($ThemeColor,(-24));?><head><?php$ListOffset['vert'] = 98;$TitleHeight = 24;$TitlePad = 10;$ttlTtlHeight = 18;$ListPad = 5;echo	'<style>'	.	"div{"."position:absolute;"."}"		.	"div.playlist {"	.	"top:".(($ListOffset['vert']+2)+$Offset)."px;"	.	"left:2px;"	.	"width:{$width}px;"	.	"height:".($height-$ListOffset['vert'])."px;"	.	"background-color:#{$bgcolor};"	.	'}'		.	"li.list {"	.	"font:80% arial;"	.	"list-style:none;"	.	"padding:4px 0px 0px {$ListPad}px;"	.	"border:none;"	.	"background-color:#{$ThemeColor};"	.	"height:18px;"	.	"color:#{$MessageColor};"	.	'}'		.	"li.list:hover{"."background-color:#{$HiLiteColor};"."}"		.	'div.rm, div.up, div.dn {'	.	"width:18px;"	.	"height:18px;"	.	"cursor:pointer;"	.	'}'		.	'div.rm{'."background:url(../static/bttn/plst.rem.png);left:".($width-18-1)."px;".'}'	.	'div.dn{'."background:url(../static/bttn/plst.dn.png);left:".($width-36-2)."px;".'}'	.	'div.up{'."background:url(../static/bttn/plst.up.png);left:".($width-54-3)."px;".'}'		.	'div.rm:hover{'."background:url(../static/bttn/plst.rem.h.png);".'}'	.	'div.dn:hover{'."background:url(../static/bttn/plst.dn.h.png);".'}'	.	'div.up:hover{'."background:url(../static/bttn/plst.up.h.png);".'}'	.	'div.makebttn, div.delbttn, div.plyrbttn {'	.	'font-family:arial;'	.	'font-weight:bold;'	.	'text-align:center;'	.	'font-size:90%;'	.	"border:1px solid #{$MessageColor};"	.	'background-color:transparent;'	.	'color:#' . '444444' . ';'	.	'padding: 3px 0px 0px 0px;'	.	'height: 20px;'	.	"cursor:pointer;"	.	'}'		.	'div.delbttn{'	.	'left:' . 10 . 'px;'	.	'}'		.	'div.makebttn:hover, div.delbttn:hover, div.plyrbttn:hover {'	.	'background-color:#' . $MessageColor . ';'	.	'color:#' . $HiLiteColor . ';'	.	'}'		.	" input.save{". "float:right;height:18px;width:110px;background:url(../static/save.png);" ."}"	.	" input.save:hover{". "background:url(../static/save.h.png);" ."}"	.	" img.ttl{". "float:left;height:18px;" ."}"		.	'</style>'	;?><?phpecho	"<script type=\"text/javascript\"> function CnfrmPlstDel() {"		." var r=confirm(\"Are you sure you want to permanently delete this playlist?\");"		." if (r==true) { top.playlist.location='playlist_action.php?sess={$sess_id}&do=del' }"		." } </script>";echo LoadFromDropDown('playlist','ChngCurr');echo "</head><body";if (!(empty($_GET['m'])))	echo " onLoad=\"top.console.location='../user/console.php?th={$ThemeColor}&key={$key}&m={$_GET['m']}';\">";else						echo ">";echo	'<div style="'	.	'position:absolute;'	.	'left:' . 2 . 'px;'	.	'top:' . 2 . 'px;'	.	'position:absolute;'	.	'width:' . $width . 'px;'	.	'height:' . ($ListOffset['vert']-$ttlTtlHeight-$TitleHeight-2) . 'px;'	.	'background-color:#' . $ThemeColor . ';'	.	'">'		.	'<form style="'	.	'position:absolute;'	.	'top:1px;'	.	'left:1px;'	.	'" method="get" name="ChngCurr">' . $ListSelect . '</form>'		.	'<div class="makebttn" style="'	.	'width:' . 88 . 'px;'	.	'left:' . ($width-91) . 'px;'	.	"top:1px;\" onClick=\""	.	"top.playlist.location='playlist_action.php?sess={$sess_id}&do=make';\">"	.	"Create New"	.	'</div>'	.	'<div class="delbttn" style="'	.	'top:' . 27 . 'px;'	.	'left:' . ($width-109-2-112-2-70) . 'px;'	.	"width:68px;\" onClick=\"CnfrmPlstDel()\">"	.	"Delete"	.	'</div>'	.	'<div class="delbttn" style="'	.	'top:' . 27 . 'px;'	.	'left:' . ($width-109-2-112) . 'px;'	.	"width:110px;\" onClick=\""	.	"top.playlist.location='playlist_action.php?sess={$sess_id}&do=put';\">"	.	"Add to myPage"	.	'</div>'		.	'<div class="plyrbttn" style="'	.	'top:' . 27 . 'px;'	.	'width:' . 106 . 'px;'	.	'left:' . ($width-109) . 'px;'	.	"\" onClick=\""	.	"top.player.location='player.php?sess={$sess_id}';"	.	"top.console.location='../user/console.php?th={$ThemeColor}&m=plup';\">"	.	"Update Player"	.	'</div>'	;echo	'</div>';echo	'<form'	.	' method="post"'	.	' enctype="multipart/form-data"'	.	' action="playlist_action.php?sess=' . $sess_id . '&do=ttl"'	.	'>'		.	'<div class="ttlTtl"'	.	' style="'	.	'position:absolute;'	.	'font:90% arial;'	.	'padding-left:' . ($TitlePad - 4) . 'px;'	.	'top:' . ($ListOffset['vert'] - $TitleHeight - $ttlTtlHeight) . 'px;'	.	'left:2px;'	.	'border:none;'	.	'width:' . ($width-$TitlePad+4) . 'px;'	.	'height:' . $ttlTtlHeight . 'px;'	.	'background-color:#' . $bgcolor . ';'	.	'">'		.	"<input class=\"save\" alt=\" \" type=\"image\"/>"	.	"<img class=\"ttl\" alt=\"Playlist Title:\" src=\"../static/titles/ttl.plst.png\"/>"	.	'</div>'		.	'<textarea class="LstTtl" name="LstTtl" wrap="soft"'	.	' style="'	.	'position:absolute;'	.	'font:100% arial;'	.	'height:' . ($TitleHeight-3) . 'px;'	.	'left:2px;'	.	'top:' . ($ListOffset['vert'] - $TitleHeight) . 'px;'	.	'width:' . ($width-$TitlePad+4) . 'px;'	.	'border:none;'	.	'background-color:#' . $bgcolor . ';'//	.	'color:#' . $MessageColor . ';'	.	'padding-left:' . ($TitlePad-4) . 'px;'	.	'padding-top:' . 3 . 'px;'	.	'">'	.	$ListItms['title'] 	.	'</textarea>'	.	'</form>'		;?><div class="playlist"><?phpfor ($rep = 1; $rep <= 20; $rep++){	$AudList .=	"<li class=\"list\">{$rep}.  {$ListItm[$rep]['title']}";	if (!(empty($ListItm[$rep]['title'])))	{	$ht = (18+4)*($rep-1)+2;		$nxt = $rep+1;				$AudList .= "<div class=\"rm\" style=\"top:{$ht}px;\" onClick=\""		."top.playlist.location='../aud/playlist_action.php?sess={$sess_id}&key={$key}&refnum={$RefNum[$rep]}&do=rem';\"></div>";		if (!(empty($ListItm[$nxt]['title'])))			$AudList .= "<div class=\"dn\" style=\"top:{$ht}px;\" onClick=\""			."top.playlist.location='../aud/playlist_action.php?sess={$sess_id}&key={$key}&refnum={$RefNum[$rep]}&do=mvD';\"></div>";		if ($rep != 1)			$AudList .= "<div class=\"up\" style=\"top:{$ht}px;\" onClick=\""			."top.playlist.location='../aud/playlist_action.php?sess={$sess_id}&key={$key}&refnum={$RefNum[$rep]}&do=mvU';\"></div>";	}	$AudList .=	"</li>";}echo $AudList;?></div></body></html>